#!/bin/bash
#===============================================================================
#
#	  FILE: master 
#
#  DESCRIPTION: source file for cluster processing scripts
#
#       AUTHOR: Christopher Schmied, schmied@mpi-cbg.de
#    INSTITUTE: Max Planck Institute for Molecular Cell Biology and Genetics
#         BUGS: ---
#        NOTES: ---
#      Version: 3.0
#      CREATED: 2014-04-02
#     REVISION: 2015-03-19
#===============================================================================

#------------------------------------------------------------------------------- 
#                           General Parameters 
#
# Dataset: 	Dpse Dip3 GFP attP2 
#		2015-02-21_LZ1_Stock68
#
# Select single or multi channel:
# 	single channel: pattern_of_spim="spim_TL{tt}_Angle{a}.tif" 
# 	multi channel: pattern_of_spim="spim_TL{tt}_Angle{a}_Channel{c}.tif"
#
# type_of_dataset:
#	Image Stacks (ImageJ Open
#	Image Stacks (LOCI Bioformats)
#	Zeiss Lightsheet Z.1 Dataset (LOCI Bioformats)
#-------------------------------------------------------------------------------
image_file_directory="/projects/pilot_spim/Christopher/Test_pipeline_3.0/tif/" # Data directory
job_directory="/projects/pilot_spim/Christopher/pipeline_3.0/jobs_alpha_3.0/" 	# jobs directory
						      					
xml_filename="\"His-YFP_Test\""                                  		# filename

#timepoint="`seq 1 71`"                         	 					# timepoints format: "`seq 1 3`" 
#num_angles="5" 										# number of angles
#select_channel="Single-channel"     							# "Single-channel" or "Multi-channel" 
#Channel_beads="1"									# Channel that contains the beads	
#pad="2"
#x_y_resolution="1"				      					# Manual calibration xy
#z_scaling="5.21641917038124"  

first_czi="/home/schmied/Desktop/Test_Pipeline_3.0//2015-02-21_LZ1_Stock68_3.czi"


#-------------------------------------------------------------------------------
# Define dataset for xml file for ImagJ Opener
# 
# Calibration Type = Same voxel-size for all views
#-------------------------------------------------------------------------------
timepoints="1-2"								# Timepoints format: "1-2"
acquisition_angles="1,2,3,4,5"                            			# angles format: "1,2,3" or "1-3"
image_file_pattern="spim_TL{t}_Angle{a}.tif" 					# pattern of spim for padded zeros use tt
pixel_distance_x="0.28755" 							# Manual calibration x
pixel_distance_y="0.28755" 							# Manual calibration y
pixel_distance_z="1.50000" 							# Manual calibration z
pixel_unit="um"									# unit of manual calibration

type_of_dataset="\"Image Stacks (ImageJ Opener)\"" # raw fileformat
multiple_timepoints="\"YES (one file per time-point)\""         			# or NO (one time-point) 
multiple_channels="\"NO (one channel)\""						# or YES (one file per channel)
multiple_illumination_directions="\"NO (one illumination direction)\"" 			# or YES (one file per illumination direction)
multiple_angles="\"YES (one file per angle)\"" 						# or NO (one angle)
imglib_container="\"ArrayImg (faster)\""						# options:

referencetp="9"										# reference timepoint 


#===============================================================================
# Directories for scripts and advanced settings for processing 
#===============================================================================

#-------------------------------------------------------------------------------
# Fiji settings 
#-------------------------------------------------------------------------------
 
XVFB_RUN="/sw/bin/xvfb-run"				  				# virtual frame buffer
Fiji="/sw/users/schmied/packages/Fiji.app.cuda_new/ImageJ-linux64"	# Fiji
									  

#--------------------------------------------------------------------------------
# XML definition and manipulation
#--------------------------------------------------------------------------------
jobs_xml=${job_directory}"define_xml/"							# directory
define_xml=${job_directory}"define_xml/define_xml.bsh"					# script
merge_xml=${job_directory}"merge_xml/merge_xml.bsh"					# script


